# Constellation Messaging Service

The optional Messaging service acts as a middle man between information publishers and information subscribers; accepting simple http publish of information to forward to 1000's of websocket subscribers. The publishers are typically the Infinity case engine or 3rd party integration services, and the subscribers are UI components in browsers running Constellation UI.

Once the service routing (with TLS) is set up, configure the Pega Infinity ConstellationMessageSvcHostPath DSS to your service URL (e.g.  yourhostname.com/c11n-messaging). Do not include a protocol for this setting.

Only a single Messaging Service deployment is necessary to support an entire organization.  Do not install the service in every namespace or for every application or project.

Complete information on the design of the service including architecture, scalability, reliability, operations and troubleshooting is available at [https://documents.constellation.pega.io/messaging/introduction.html](https://documents.constellation.pega.io/messaging/introduction.html).

### Configuration settings

| Configuration                           | Usage                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-----------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `enabled`                               | Enable the Messaging Service deployment as a backing service. Set this parameter to `true` to deploy the service.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `name`                        | Specify the name of your messaging service. Your deployment creates resources prefixed with this string.                                                                                                                                                                                                                                                                                                                                                          |
| `imagePullSecretNames`                            | List pre-existing secrets to be used for pulling docker images.                                                                                                                                                                                                                                                                                                           |
| `pegaMessagingPort`                            | Defines the port used by the Service.                                                                                                                                                                                                                                                                                                           |
| `pegaMessagingTargetPort`                            | Defines the port used by the Pod and Container.                                                                                                                                                                                                                                                                                                           |
| `affinity`                            | Define pod affinity so that it is restricted to run on particular node(s), or to prefer to run on particular nodes.                                                                                                                                                                                                                                       |
| `ingress`                               |  Allows optional configuration of a domain name, ingressClass, and annotations.  An ingress will be provisioned if a domain name is supplied.  Due to the diversity of network configurations, ingress vendors, and TLS requirements it may be necessary to define your ingress separately from this chart.
